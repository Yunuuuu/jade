{
    "version": "5.33.0",
    "description": "A platform for building proxies to bypass network restrictions.",
    "homepage": "https://www.v2fly.org/en_US/",
    "license": "MIT",
    "architecture": {
        "64bit": {
            "url": "https://download.fastgit.org/v2fly/v2ray-core/releases/download/v5.33.0/v2ray-windows-64.zip",
            "hash": "sha512:a4c3c9e040f35cc2b382b19e4971f042a340a71ef6e3c2e196e5c783173af29b947e706b71640c2c0e07ff89ab65201f4e0cdeec54068cfb8c73892c3a6847c3"
        },
        "32bit": {
            "url": "https://download.fastgit.org/v2fly/v2ray-core/releases/download/v5.33.0/v2ray-windows-32.zip",
            "hash": "sha512:659b3bf3d1c681c97df0e905a024bb0f1513ee5f1c3cd36f25ae0a7ac3295cbba5338ebecc3ff0a53cfd12a9f5eefc613ab5dae3cbdb1edc1e204e57c332ffa4"
        }
    },
    "installer": {
        "script": [
            "#v2ctl.exe cannot recognize signature file when there are spaces in path. This is a workaround to eliminate spaces.",
            "Write-Host 'Verifying V2Ray binary...' -f Yellow",
            "$sig_dir = \"$Env:SystemRoot\\Temp\\v2ray\"",
            "ensure $sig_dir | Out-Null",
            "Invoke-WebRequest \"https://download.fastgit.org/v2fly/v2ray-core/releases/download/v$version/Release\" -OutFile $sig_dir\\Release",
            "if (!(Invoke-Expression \"&`\"$dir\\v2ctl.exe`\" verify --sig=$sig_dir\\Release `\"$dir\\v2ray.exe`\"\" | Select-String 'OK')) {",
            "    Write-Host 'V2Ray binary is corrupted!' -f Red",
            "    break",
            "}",
            "Remove-Item $sig_dir -Force -Recurse | Out-Null"
        ]
    },
    "bin": [
        "v2ctl.exe",
        "v2ray.exe",
        "wv2ray.exe"
    ],
    "persist": "config.json",
    "checkver": {
        "github": "https://github.com/v2fly/v2ray-core"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://download.fastgit.org/v2fly/v2ray-core/releases/download/v$version/v2ray-windows-64.zip",
                "hash": {
                    "url": "https://github.com/v2fly/v2ray-core/releases/download/v$version/v2ray-windows-64.zip.dgst",
                    "regex": "SHA2-512= $sha512"
                }
            },
            "32bit": {
                "url": "https://download.fastgit.org/v2fly/v2ray-core/releases/download/v$version/v2ray-windows-32.zip",
                "hash": {
                    "url": "https://github.com/v2fly/v2ray-core/releases/download/v$version/v2ray-windows-32.zip.dgst",
                    "regex": "SHA2-512= $sha512"
                }
            }
        }
    }
}
